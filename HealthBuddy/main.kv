MyScreenManager:

    MainScreen:
    # LoginScreen:
    Screen:
        name: "LoginScreen"
        TabsPanel:
        

#:import utils kivy.utils
#:import main main



<MainScreen@Widget>:
    name: "MainScreen"
    BoxLayout:
        size_hint: None, None
        size: 300, 600
        pos_hint:{"center_x": 0.5, "cenetr_y": 0.5}
        elevation: 10
        padding: 25
        spacing: 25
        orientation: 'vertical'
        Label:
            id: welcome_label
            text:"Welcome"
            font_size:40
            halign: 'center'
            size_hint_y: None
            height: self.texture_size[1]
            padding_y:15

        TextInput:
            mode: "round"
            id: user
            hint_text: "username"
            text:""
            icon_right: "account"
            size_hint_x:None
            width: 200
            font_size: 20
            pos_hint:{"center_x": 0.5}
            multiline: False   # as a default the TextInput is multiline
            on_text_validate: self.on_text_validate(self.text)

        TextInput:
            mode: "round"
            id: password
            hint_text: "password"
            icon_right: "eye-off"
            size_hint_x:None
            width: 200
            font_size: 20
            pos_hint:{"center_x": 0.5}
            password:True

        Button:
            text: "LOG IN"
            font_size: 12
            pos_hint:{"center_x": 0.5}
            on_press: root.manager.push("LoginScreen");app.on_user_validate(root.children[0].children[4].text);app.on_password_validate(root.children[0].children[3].text);app.print_profile()

        Button:
            text: "CLEAR"
            font_size: 12
            pos_hint:{"center_x": 0.5}
            on_press: app.clear(root)

        Widget:
            size_hint_y:None
            height: 10

<LoginScreen@Widget>:
    name: "LoginScreen"
    BoxLayout:
        orientation:"vertical"
        size: root.width, root.height

        Label:
            text: "Introduceti sexul dvs:"
            font_size: 15

        GridLayout:
            cols:2

            Label:

                text: "Feminin"
                font_size: 19
            CheckBox:
                name: "F"
                on_press: app.checkbox_click(root, "Feminin"); app.checkbox_radio(root, self.name, self, self.active)

            Label:
                text: "Masculin"
                font_size: 19
            CheckBox:
                name: "M"
                on_press: app.checkbox_click(root, "Masculin"); app.checkbox_radio(root, self.name, self, self.active)
            Label:
                text: "Prefer sa nu spun"
                font_size: 19
            CheckBox:
                name: "M"
                on_press: app.checkbox_click(root, "Prefer sa nu spun"); app.checkbox_radio(root, self.name, self, self.active)

        Label:
            id: output_label
            text: ""
            font_size: 21

        Label:
            text: "Introduceti cat de activ sunteti:"
            font_size: 15

        GridLayout:
            cols:2

            Label:
                text: "Stil de viata sedentar"
                font_size: 12
            CheckBox:
                name: "sedentar"
                on_press: app.checkbox_click(root, "Stil de viata sedentar"); app.checkbox_radio(root, self.name, self, self.active)

            Label:
                text: "Activitate fizica medie"
                font_size: 12
            CheckBox:
                name: "medie"
                on_press: app.checkbox_click(root, "Activitate fizica medie"); app.checkbox_radio(root, self.name, self, self.active)
            Label:
                text: "Activitate fizica intensa"
                font_size:12
            CheckBox:
                name: "intensa"
                on_press: app.checkbox_click(root, "Activitate fizica intensa"); app.checkbox_radio(root, self.name, self, self.active)
            Label:
                text: "Activitate fizica foarte intensa"
                font_size: 12
            CheckBox:
                name: "foarte intensa"
                on_press: app.checkbox_click(root, "Activitate fizica foarte intensa"); app.checkbox_radio(root, self.name, self, self.active)
        Label:
            id: output_label
            text: ""
            font_size: 21
        Label:
            text: "Introduceti idealul dvs:"
            font_size: 15

        GridLayout:
            cols:2

            Label:
                text: "Slabit"
                font_size: 19
            CheckBox:
                name: "Slabit"
                on_press: app.checkbox_click(root, "Slabit"); app.checkbox_radio(root, self.name, self, self.active)

            Label:
                text: "Luare in greutate"
                font_size: 19
            CheckBox:
                name: "greutate"
                on_press: app.checkbox_click(root, "Luare in greutate"); app.checkbox_radio(root, self.name, self, self.active)
            Label:
                text: "Mentinere"
                font_size: 19
            CheckBox:
                name: "Mentinere"
                on_press: app.checkbox_click(root, "Mentinere"); app.checkbox_radio(root, self.name, self, self.active)
        Label:
            id: output_label
            text: ""
            font_size: 21
        Label:
            text: "Introduceti ce vreti sa lucrati mai mult:"
            font_size: 15

        GridLayout:
            cols:2

            Label:
                text: "Partea de sus a corpului"
                font_size: 15
            CheckBox:
                name: "sus"
                on_press: app.checkbox_click(root, "Partea de sus a corpului"); app.checkbox_radio(root, self.name, self, self.active)

            Label:
                text: "Partea de jos a corpului"
                font_size: 15
            CheckBox:
                name: "jos"
                on_press: app.checkbox_click(root, "Partea de jos a corpului"); app.checkbox_radio(root, self.name, self, self.active)
            Label:
                text: "Cardio"
                font_size: 15
            CheckBox:
                name: "Cardio"
                on_press: app.checkbox_click(root, "Cardio"); app.checkbox_radio(root, self.name, self, self.active)
            Label:
                text: "Intreg corpul"
                font_size:15
            CheckBox:
                name: "Intreg"
                on_press: app.checkbox_click(root, "Intreg corpul"); app.checkbox_radio(root, self.name, self, self.active)
        Label:
            id: output_label
            text: ""
            font_size: 21
<AccountScreen@Widget>:
    name:"AccountScreen"
    BoxLayout:
        orientation:"vertical"
        size: root.width, root.height
        Button:
            text: "Detalii despre profilul meu"
            font_size: 32
            pos_hint:{"center_x": 0.5}
            on_press: app.salut(root)

        Label:
            id: otp_label
            text: "Buna"
            font_size: 32
        Label:
            id: water_label
            text: "Astazi ai baut: "
            font_size: 32
        Label:
            id: cal_label
            text: "Astazi ai consumat: "
            font_size: 32


<ItemLabel@Label>:
    font_size:'25sp'
    halign: 'left'
    valign: 'middle'
    text_size: self.size

<CalculatorScreen@Widget>:
    name:"CalculatorScreen"
    apa: apa
    greutate: greutate
    varsta: varsta
    inaltime: inaltime
    calorii: calorii
    calorii_s : calorii_s
    calorii_i : calorii_i
    

    BoxLayout:
        size_hint: None, None
        size: root.width, root.height
        pos_hint:{"center_x": 0.5, "center_y": 0.5}
        elevation: 10
        padding: 25
        spacing: 25
        orientation: 'vertical'
        Label:
            id: calc_calorii
            text:"Calculator apă - calorii/zi"
            font_size:30
            halign: 'center'
            size_hint_y: None
            height: self.texture_size[1]
            padding_y:15
 
        TextInput:
            mode: "round"
            id: greutate
            hint_text: "Greutate"
            text:""
            icon_right: "account"
            size_hint: .9, .4
            width:
            font_size: 16
            pos_hint:{"center_x": 0.5}
            multiline: False   # as a default the TextInput is multiline
            on_text_validate: self.on_text_validate(self.text)

        TextInput:
            mode: "round"
            id: varsta
            hint_text: "Varsta"
            icon_right: "eye-off"
            size_hint: .9, .4
            font_size: 16
            pos_hint:{"center_x": 0.5}


        TextInput:
            mode: "round"
            id: inaltime
            hint_text: "Inaltime"
            icon_right: "eye-off"
            size_hint: .9, .4
            width: 400
            height: 100
            font_size: 16
            pos_hint:{"center_x": 0.5}

        

        GridLayout:
            cols: 2

            BoxLayout:
                pos_hint:{"center_x": 0.7, "center_y": 0.5}
                elevation: 12
                padding: 27
                spacing: 25
                font_size: 20
                orientation: 'vertical'


                ItemLabel:
                    text:'Cantitate apă/zi'

                ItemLabel:
                    text:'Număr calorii/zi'
            
                ItemLabel:
                    text:'Număr calorii - pentru SLĂBIT'

                ItemLabel:
                    text:'Număr calorii - pentru ÎNGRĂȘAT'

            BoxLayout:
                pos_hint:{"center_x": 0.7, "center_y": 0.5}
                elevation: 12
                padding: 27
                spacing: 25
                orientation: 'vertical'
                size_hint: 0.5, 1


                ItemLabel:
                    id: apa
                    text: "0 ml"
 
                ItemLabel:
                    id: calorii
                    text: "0 kcal"

                ItemLabel:
                    id: calorii_s
                    text: "0 kcal"

                ItemLabel:
                    id: calorii_i
                    text: "0 kcal"
        

        Button:
            size_hint:0.9, 0.4
            text: 'Calculează'
            pos_hint:{"center_x": 0.5, "center_y": 0.5}
            on_press:
                app.calculate(root)


<ProgressScreen@Widget>:

    BoxLayout:
        
        size_hint: None, None
        size: root.width, root.height
        pos_hint:{"center_x": 0.5, "center_y": 0.5}
        elevation: 10
        padding: 25
        spacing: 25
        orientation: 'vertical'

        Label:
            id: progres
            text:"Progresul de azi"
            font_size:30
            halign: 'center'
            size_hint_y: None
            height: self.texture_size[1]
            padding_y:15

        GridLayout:
            cols: 4

            padding: 25

            spacing: 50

            size: root.width * 0.8, root.height * 0.8

            row_default_height: 80

            row_force_default: True

            center: root.width / 2, root.height / 2

            Button:
                text: "Submit"
                background_color: 1, .3, .4, .85
                on_press: app.press_water(root)

                font_size: 20
                background_color: 0, 0, 0, 0
                background_normal: ""
                canvas.before:
                    Color:
                        rgba: 0, 1, 0, 0.5
                    RoundedRectangle:
                        size: self.size
                        pos: self.pos
                        radius: [55]  #---- This rounds the corners --- #

            Label:
                id: water_label
                text: "Nu ai adaugat apa astazi!"

            TextInput:
                id: water_input
            
                multiline: False
                
            ProgressBar:
                id: water_progres

                # Set Default Value
                value: .0
                min: 0
                max: 1
                pos_hint: {'x': .1}

            Button:
                text: "Submit"
                background_color: 1, .3, .4, .85
                on_press: app.press_calorie(root)
                

                font_size: 20
                background_color: 0, 0, 0, 0
                background_normal: ""
                canvas.before:
                    Color:
                        rgba: 0, 1, 0, 0.5
                    RoundedRectangle:
                        size: self.size
                        pos: self.pos
                        radius: [55]  #---- This rounds the corners --- #


            Label:
                id: calorie_label
                text: "Nu ai adaugat calorii astazi!"

            TextInput:
                id: calorie_input
                
                multiline: False
                
            ProgressBar:
                id: calorie_progres
                # Set Default Value
                value: .0
                min: 0
                max: 1
                pos_hint: {'x': .1}
            

<TabsPanel@TabbedPanel>:
    name: "TabsPabel"
    do_default_tab: False

    TabbedPanelItem:
        text: "Quiz"
        LoginScreen:

    TabbedPanelItem:
        text: "Calculator"
        CalculatorScreen:

    TabbedPanelItem:
        text: "Progres"
        ProgressScreen:
    
    TabbedPanelItem:
        text: "Account"
        AccountScreen: